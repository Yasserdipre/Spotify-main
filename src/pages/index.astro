---
import Layout from "../layouts/Layout.astro"
import PlayListItemCard from "@/components/PlayListItemCard.astro"
import Greeting from "@/components/Greeting.svelte"
import {db, Albumns, eq, Artists} from 'astro:db';
import ArtistsInicio from "@/components/ArtistInicio"
import User from "@/components/User.astro";
const Nu_Metal = await db.select().from(Albumns).where(eq(Albumns.genre, "Nu-Metal"));
const Lo_FI = await db.select().from(Albumns).where(eq(Albumns.genre, "Lo-Fi"));
const Bachata = await db.select().from(Albumns).where(eq(Albumns.genre, "Bachata"));
const Jazz = await db.select().from(Albumns).where(eq(Albumns.genre, "Jazz"));
const ArtistsData = await db.select().from(Artists).limit(6)
/*
Albumn.map(album => {console.log(album)})
*/


---

<Layout title="Spotify Clone">
  <div
    id="playlist-container"
    class="relative transition-all duration-1000 bg-green-600"
  >
    <!-- <PageHeader /> -->

    <div class="relative z-10 px-6 pt-10 pb-5">

      <div class="flex justify-between items-start">
        <Greeting />
        <User />
      </div>
      <div class="mt-3">
        <h2 class="relative top-4 left-3 text-2xl">Lo mejor del Nu-Metal</h2>
        <div class="flex flex-wrap mt-6 gap-4">
          {Nu_Metal.map((Nu_Metal_Data) => <PlayListItemCard AlbumData={Nu_Metal_Data} />)}
        </div>
      </div>


      <div>
        <h2 class="relative top-4 left-3 text-2xl">Disfruta de la Bachata</h2>
        <div class="flex flex-wrap mt-6 gap-4">
          {Bachata.map((Bachata_Data) => <PlayListItemCard AlbumData={Bachata_Data} />)}
        </div>
      </div>

      <div class="relative mt-3 z-20 max-h-72">
        <h2 class="relative top-4 left-3 text-2xl">Tus Artistas Favoritos</h2>
        <ArtistsInicio artistData={ArtistsData} client:load/>
      </div>

      <div class="relative z-30 mt-2">
        <h2 class="relative top-4 left-3 text-2xl">Sumerjete en el Lo-Fi</h2>
        <div class="flex flex-wrap mt-6 gap-4">
          {Lo_FI.map((Lo_FI_Data) => <PlayListItemCard AlbumData={Lo_FI_Data} />)}
        </div>
      </div>

      <div>
        <h2 class="relative top-4 left-3 text-2xl">Siente el Jazz</h2>
        <div class="flex flex-wrap mt-6 gap-4">
          {Jazz.map((Jazz_Data) => <PlayListItemCard AlbumData={Jazz_Data} />)}
        </div>
      </div>

      <div
        class="absolute inset-0 bg-gradient-to-t from-zinc-900 via-zinc-900/80 -z-[1]"
      >
      </div>
    </div>

    <style></style>
  </div>
</Layout>


